(this.webpackJsonppatrol_demo=this.webpackJsonppatrol_demo||[]).push([[0],{43:function(e,t,a){e.exports=a(59)},48:function(e,t,a){},49:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),c=a(15),r=a.n(c),i=(a(48),a(49),a(8)),u=a(10),s=a(23),o=a(24),m=a(29),E=a(27),d=Object(l.createContext)({staff:null,room_id:"Y1",setStaff:function(){},setRoom_id:function(){}}),f=function(e){Object(m.a)(a,e);var t=Object(E.a)(a);function a(){var e;Object(s.a)(this,a);for(var l=arguments.length,n=new Array(l),c=0;c<l;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).setStaff=function(t){e.setState({staff:t})},e.setRoom_id=function(t){e.setState({room_id:t})},e.state={staff:null,room_id:"037",setStaff:e.setStaff,setRoom_id:e.setRoom_id},e}return Object(o.a)(a,[{key:"render",value:function(){return n.a.createElement(d.Provider,{value:this.state},this.props.children)}}]),a}(l.Component),S=d.Consumer,g=a(61),b=a(62),h=a(63);function p(e){var t=Object(l.useState)({currentTime:(new Date).toLocaleDateString()}),a=Object(u.a)(t,2),c=a[0];a[1];return n.a.createElement(n.a.Fragment,null,n.a.createElement(S,null,(function(e){var t=e.staff,a=e.room_id;return n.a.createElement(g.a,null,n.a.createElement(b.a,null,n.a.createElement(h.a,{xs:4},"\u623f\u865f: ",a),n.a.createElement(h.a,{xs:4},null==t?null:"Staff: "+t),n.a.createElement(h.a,{xs:4},c.currentTime)))})))}var v=a(69);function j(e){return n.a.createElement(v.a,{style:{width:"18rem"}},n.a.createElement(v.a.Body,null,n.a.createElement(v.a.Title,null,e.title),n.a.createElement(v.a.Text,null,e.remarklist)))}var O=a(64),k=a(70),y=a(65);function x(){var e=Object(l.createRef)(),t=Object(l.useState)({}),a=Object(u.a)(t,2),c=a[0],r=a[1];return n.a.createElement(O.a,null,n.a.createElement(O.a.Prepend,null,n.a.createElement(O.a.Text,{id:"card_id"},"\u54e1\u5de5\u62cd\u5361:")),n.a.createElement(k.a,{ref:e,placeholder:"Card ID","aria-label":"Card ID","aria-describedby":"card_id",onChange:function(){return r(e.current.value)}}),n.a.createElement(S,null,(function(e){var t=e.setStaff;return n.a.createElement(y.a,{onClick:function(){return t(c)}}," > ")})))}var C=[{elderID:101,remarklist:["hello","eyu"]},{elderID:102,remarklist:["Lia","Luke"]},{elderID:103,remarklist:["Python","JS"]},{elderID:104,remarklist:[]}],D=Object(l.createContext)({datum:C}),_=function(e){Object(m.a)(a,e);var t=Object(E.a)(a);function a(){var e;Object(s.a)(this,a);for(var l=arguments.length,n=new Array(l),c=0;c<l;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={datum:C},e}return Object(o.a)(a,[{key:"render",value:function(){return n.a.createElement(D.Provider,{value:this.state},this.props.children)}}]),a}(l.Component),w=D.Consumer;a(67);function L(e){return n.a.createElement(w,null,(function(t){t.datum;return n.a.createElement(g.a,null,n.a.createElement(b.a,null,n.a.createElement(h.a,null,n.a.createElement(j,{title:"Y1-1",remarklist:["\u674e\u8cb4"]})),n.a.createElement(h.a,null,n.a.createElement(j,{title:"Y1-2",remarklist:["\u65b9\u7956\u6587"]}))),n.a.createElement(b.a,null,n.a.createElement(h.a,null,n.a.createElement(j,{title:"Y1-3",remarklist:["\u5f35\u5bb9\u5bb9"]})),n.a.createElement(h.a,null,n.a.createElement(j,{title:"Y1-4",remarklist:["\u4f55\u96ea"]}))),n.a.createElement(b.a,null,n.a.createElement(h.a,null,n.a.createElement(x,{updateStaff:e.updateStaff}))))}))}a(55);function T(e){return n.a.createElement(v.a,{as:"a",onClick:function(){e.onSelect({select:e.title})},style:{cursor:"pointer",width:"18rem"}},n.a.createElement(v.a.Body,null,n.a.createElement(v.a.Title,null,e.title)))}var F=a(7),I=a(66);function B(e){var t=Object(l.useState)({isCheck:!1,isLoading:!1}),a=Object(u.a)(t,2),c=a[0],r=a[1];Object(l.useEffect)((function(){c.isLoading&&new Promise((function(e){return setTimeout(e,1e3)})).then((function(){r({isCheck:!0,isLoading:!1})}))}),[c.isLoading]),Object(l.useEffect)((function(){e.select&&r({isCheck:!1,isLoading:!1})}),[e.select]);return n.a.createElement(g.a,null,n.a.createElement(b.a,null,n.a.createElement(h.a,{xs:3},n.a.createElement(y.a,{variant:c.isCheck?"info":"outline-info",disabled:c.isLoading,onClick:c.isLoading?null:function(){return r(Object(F.a)(Object(F.a)({},c),{},{isLoading:!0}))}},c.isLoading?n.a.createElement(I.a,{as:"span",size:"sm",animation:"border"}):n.a.createElement("span",null,"\u2713"))),n.a.createElement(h.a,{xs:9},n.a.createElement(b.a,null,n.a.createElement("span",null,"\u4e0a\u6b21",n.a.createElement("strong",null," ",e.select," "),"\u6642\u9593: ",e.fakeDate.previousDate.toLocaleString())),n.a.createElement(b.a,null,c.isCheck?n.a.createElement("span",null,"\u4eca\u6b21 ",n.a.createElement("strong",null,e.select)," \u6642\u9593: ",(new Date).toLocaleString()):null))))}function P(){var e=Object(l.useState)({select:null}),t=Object(u.a)(e,2),a=t[0],c=t[1],r=new Date;r.setDate(r.getDate()-1);var s=Object(l.useState)({previousDate:r}),o=Object(u.a)(s,2),m=o[0],E=o[1];return Object(l.useEffect)((function(){var e=setTimeout((function(){}),15e3);return function(){return clearTimeout(e)}}),[]),n.a.createElement(g.a,null,n.a.createElement(b.a,null,n.a.createElement(h.a,null,n.a.createElement(T,{title:"\u5de1\u908f",id:"patrol",onSelect:c})),n.a.createElement(h.a,null,n.a.createElement(T,{title:"\u6e05\u6f54",id:"cleansing",onSelect:c})),n.a.createElement(h.a,null,n.a.createElement(T,{title:"\u4efb\u52d9",id:"mission",onSelect:c}))),n.a.createElement(b.a,null,a.select?"\u4efb\u52d9"!==a.select?n.a.createElement(B,{select:a.select,fakeDate:m,setFakeDate:E}):n.a.createElement(i.a,{to:"/missions"}):null),n.a.createElement(b.a,null,n.a.createElement(g.a,null,n.a.createElement(b.a,null,n.a.createElement(y.a,{variant:"success",href:"/"},"Return to home and invalidate staff")),n.a.createElement(b.a,null))))}var R=a(20),Y=a(68);function A(e){return n.a.createElement(v.a,{as:"button",style:{width:"18rem",backgroundColor:e.item.isSelect?"cyan":"white"},onClick:function(){return e.select(e.item.title)}},n.a.createElement(v.a.Body,null,n.a.createElement(b.a,null,n.a.createElement(h.a,{xs:3},n.a.createElement(Y.a,null,n.a.createElement(Y.a.Image,{width:120,height:180,alt:"120x180",src:"".concat("/patrol_demo","/assets/image/any.png")}))),n.a.createElement(h.a,{xs:9},n.a.createElement(v.a.Title,null,e.item.title),n.a.createElement(b.a,null,n.a.createElement(h.a,null,n.a.createElement(v.a.Text,null,e.item.e_name)),n.a.createElement(h.a,null,n.a.createElement(h.a,null,n.a.createElement(v.a.Text,null,e.item.change_loc?n.a.createElement(n.a.Fragment,null,e.item.change_loc):null)),n.a.createElement(h.a,null,n.a.createElement(v.a.Text,null,e.item.change_diaper?n.a.createElement(n.a.Fragment,null,e.item.change_diaper):null))))))))}function z(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement(h.a,null,e.task.list.map((function(t){return n.a.createElement(A,{key:t.title,item:t,select:e.select})}))))}var J=a(71);function M(e){return n.a.createElement(v.a,{xs:e.size,as:"button",style:e.isSelect===e.title?e.selectedCardStyle:e.cardStyle,onClick:function(){return e.select(e.title)}},n.a.createElement(v.a.Body,null,n.a.createElement(v.a.Title,null,e.title)))}function W(e){var t=Object(l.useState)({isSelect:null,isSelectDetail:null,isLoading:!1,isSubmit:!1}),a=Object(u.a)(t,2),c=a[0],r=a[1];Object(l.useEffect)((function(){c&&console.log(c.isSelect,c.isSelectDetail)}),[c]),Object(l.useEffect)((function(){c.isLoading&&o().then((function(){r(Object(F.a)(Object(F.a)({},c),{},{isLoading:!1,isSubmit:!0}))}))}),[c.isLoading]);var i=function(e){r(Object(F.a)(Object(F.a)({},c),{},{isSelect:e,isSelectDetail:null,isSubmit:!1}))},s=function(e){console.log("updateMissionDetail ".concat(e)),r(Object(F.a)(Object(F.a)({},c),{},{isSelectDetail:e}))},o=function(){return new Promise((function(e){return setTimeout(e,1e3)}))},m=function(){r(Object(F.a)(Object(F.a)({},c),{},{isSelect:null,isSelectDetail:null}))},E={width:"13rem",padding:"5px"},d={width:"13rem",padding:"5px",backgroundColor:"salmon"},f={width:"11rem",padding:"5px"},S={width:"11rem",padding:"5px",backgroundColor:"salmon"};return n.a.createElement(n.a.Fragment,null,n.a.createElement(b.a,{style:{padding:"0px",height:"8rem"}},n.a.createElement(h.a,{xs:4},n.a.createElement(M,{title:"\u8f49\u8eab",cardStyle:E,selectedCardStyle:d,isSelect:c.isSelect,select:i})),n.a.createElement(h.a,{xs:4},n.a.createElement(M,{title:"\u63db\u7247",cardStyle:E,selectedCardStyle:d,isSelect:c.isSelect,select:i})),n.a.createElement(h.a,{xs:4},n.a.createElement(M,{title:"???",cardStyle:E,selectedCardStyle:d,isSelect:c.isSelect,select:i}))),n.a.createElement(b.a,null,c.isSelect?"\u8f49\u8eab"===c.isSelect?n.a.createElement(n.a.Fragment,null,n.a.createElement(h.a,{xs:4},n.a.createElement(M,{title:"\u5e73\u5367",isSelect:c.isSelectDetail,cardStyle:f,selectedCardStyle:S,select:s})),n.a.createElement(h.a,{xs:4},n.a.createElement(M,{title:"\u5de6\u5247",isSelect:c.isSelectDetail,cardStyle:f,selectedCardStyle:S,select:s})),n.a.createElement(h.a,{xs:4},n.a.createElement(M,{title:"\u53f3\u5247",isSelect:c.isSelectDetail,cardStyle:f,selectedCardStyle:S,select:s}))):"\u63db\u7247"===c.isSelect?n.a.createElement(n.a.Fragment,null,n.a.createElement(h.a,{xs:4},n.a.createElement(M,{title:"\u5927\u4fbf",isSelect:c.isSelectDetail,cardStyle:f,selectedCardStyle:S,select:s})),n.a.createElement(h.a,{xs:4},n.a.createElement(M,{title:"\u5c0f\u4fbf",isSelect:c.isSelectDetail,cardStyle:f,selectedCardStyle:S,select:s}))):(c.isSelect,n.a.createElement(n.a.Fragment,null)):n.a.createElement(n.a.Fragment,null)),n.a.createElement(b.a,{style:{padding:"0px",height:"4rem",width:"auto",position:"absolute",bottom:"4rem",right:"0",left:"0"}},c.isSelect?n.a.createElement(n.a.Fragment,null,n.a.createElement(h.a,{xs:6},n.a.createElement(y.a,{variant:"danger",onClick:function(){return"\u8f49\u8eab"===c.isSelect?e.updateChangeLoc(c.isSelectDetail):"\u63db\u7247"===c.isSelect&&e.updateChangeDiaper(c.isSelectDetail),void r(Object(F.a)(Object(F.a)({},c),{},{isSelect:null,isSelectDetail:null}))},disabled:null===c.isSelectDetail},"\u78ba\u8a8d")),n.a.createElement(h.a,{xs:6},n.a.createElement(y.a,{variant:"success",onClick:function(){return m()}},"\u53d6\u6d88"))):n.a.createElement(n.a.Fragment,null,n.a.createElement(h.a,{xs:6},n.a.createElement(y.a,{variant:"outline-danger",onClick:function(){r(Object(F.a)(Object(F.a)({},c),{},{isLoading:!0}))}},c.isLoading?n.a.createElement(I.a,{as:"span",size:"sm",animation:"border"}):n.a.createElement("span",null,"\u4e0a\u8f09\u6578\u64da"))),n.a.createElement(h.a,{xs:6},n.a.createElement(y.a,{variant:"outline-success",onClick:function(){return m(),void window.location.reload(!1)}},"\u8fd4\u56de\u4e0a\u4e00\u9801")))),n.a.createElement(b.a,{style:{padding:"0px",height:"4rem",width:"auto",position:"absolute",bottom:"0",right:"0",left:"0"}},c.isSubmit?n.a.createElement(h.a,{xs:12},n.a.createElement(J.a,{variant:"success"}," \u4e0a\u8f09\u6210\u529f! ")):null))}function N(){var e=Object(l.useState)({list:[{title:125882,e_name:"\u674e\u8cb4",isSelect:!1,change_loc:null,change_diaper:null},{title:125881,e_name:"\u65b9\u7956\u6587",isSelect:!1,change_loc:null,change_diaper:null},{title:125885,e_name:"\u5f35\u5bb9\u5bb9",isSelect:!1,change_loc:null,change_diaper:null},{title:125883,e_name:"\u4f55\u96ea",isSelect:!1,change_loc:null,change_diaper:null}]}),t=Object(u.a)(e,2),a=t[0],c=t[1];return n.a.createElement(g.a,null,n.a.createElement(b.a,null,n.a.createElement(h.a,null,n.a.createElement(y.a,{variant:"warning",onClick:function(){return function(){var e=Object(R.a)(a.list);e=e.map((function(e){return Object(F.a)(Object(F.a)({},e),{},{isSelect:!0})})),c({list:e})}()}},"ALL")),n.a.createElement(h.a,null),n.a.createElement(h.a,null)),n.a.createElement(b.a,null,n.a.createElement(h.a,{xs:4},n.a.createElement(z,{task:a,setTask:c,select:function(e){var t=Object(R.a)(a.list),l=t.findIndex((function(t){return t.title===e})),n=Object(F.a)({},t[l]);n.isSelect=!n.isSelect,t[l]=n,c({list:t})}})),n.a.createElement(h.a,{xs:8},n.a.createElement(W,{updateChangeLoc:function(e){var t=Object(R.a)(a.list);t=t.map((function(t){return!0===t.isSelect?Object(F.a)(Object(F.a)({},t),{},{change_loc:e}):t})),c({list:t})},updateChangeDiaper:function(e){var t=Object(R.a)(a.list);t=t.map((function(t){return!0===t.isSelect?Object(F.a)(Object(F.a)({},t),{},{change_diaper:e}):t})),c({list:t})}}))))}var $=function(){return n.a.createElement(S,null,(function(e){var t=e.staff,a=e.room_id;return n.a.createElement("div",{className:"App"},n.a.createElement(p,{staff:t,room_id:a}),n.a.createElement(i.d,null,n.a.createElement(i.b,{exact:!0,path:"/"},null!==t?n.a.createElement(i.a,{to:"/tasks"}):null,n.a.createElement(L,null)),n.a.createElement(i.b,{path:"/config"},n.a.createElement("h3",null,"Set room no.")),n.a.createElement(i.b,{path:"/tasks"},null==t?n.a.createElement(i.a,{to:"/"}):null,n.a.createElement(P,null)),n.a.createElement(i.b,{path:"/missions"},null==t?n.a.createElement(i.a,{to:"/"}):null,n.a.createElement(N,null)),n.a.createElement(i.a,{from:"*",to:"/"})))}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var q=a(21);r.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(f,null,n.a.createElement(_,null,n.a.createElement(q.a,null,n.a.createElement($,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[43,1,2]]]);
//# sourceMappingURL=main.5d0f49c2.chunk.js.map